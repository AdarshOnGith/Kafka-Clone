KAFKA-CLONE TEST RESPONSES
Generated: 2025-10-18T01:32:41.780724
================================================================================

This file contains all HTTP request/response details from the test run.
Tests cover replication behavior for acks=0, acks=1, and acks=-1.

================================================================================

================================================================================
TEST: Metadata Population - Broker 8081
Timestamp: 2025-10-18T01:32:15.653881
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8081/api/v1/storage/metadata
body:
{
  "brokers": [
    {
      "id": 1,
      "host": "localhost",
      "port": 8081,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 2,
      "host": "localhost",
      "port": 8082,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 3,
      "host": "localhost",
      "port": 8083,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    }
  ],
  "partitions": [
    {
      "topic": "test-topic",
      "partition": 0,
      "leaderId": 1,
      "followerIds": [
        2,
        3
      ],
      "isrIds": [
        1,
        2,
        3
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 0,
      "leaderId": 2,
      "followerIds": [
        1,
        3
      ],
      "isrIds": [
        2,
        1
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 1,
      "leaderId": 3,
      "followerIds": [
        1,
        2
      ],
      "isrIds": [
        3,
        2
      ],
      "leaderEpoch": 1
    }
  ],
  "timestamp": 1703123456789
}

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:14 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "success": true,
  "errorCode": "NONE",
  "errorMessage": null,
  "processedTimestamp": 1760731335649,
  "brokerId": 1
}

================================================================================

================================================================================
TEST: Metadata Population - Broker 8082
Timestamp: 2025-10-18T01:32:16.182449
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8082/api/v1/storage/metadata
body:
{
  "brokers": [
    {
      "id": 1,
      "host": "localhost",
      "port": 8081,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 2,
      "host": "localhost",
      "port": 8082,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 3,
      "host": "localhost",
      "port": 8083,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    }
  ],
  "partitions": [
    {
      "topic": "test-topic",
      "partition": 0,
      "leaderId": 1,
      "followerIds": [
        2,
        3
      ],
      "isrIds": [
        1,
        2,
        3
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 0,
      "leaderId": 2,
      "followerIds": [
        1,
        3
      ],
      "isrIds": [
        2,
        1
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 1,
      "leaderId": 3,
      "followerIds": [
        1,
        2
      ],
      "isrIds": [
        3,
        2
      ],
      "leaderEpoch": 1
    }
  ],
  "timestamp": 1703123456789
}

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:16 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "success": true,
  "errorCode": "NONE",
  "errorMessage": null,
  "processedTimestamp": 1760731336179,
  "brokerId": 2
}

================================================================================

================================================================================
TEST: Metadata Population - Broker 8083
Timestamp: 2025-10-18T01:32:16.698425
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8083/api/v1/storage/metadata
body:
{
  "brokers": [
    {
      "id": 1,
      "host": "localhost",
      "port": 8081,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 2,
      "host": "localhost",
      "port": 8082,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    },
    {
      "id": 3,
      "host": "localhost",
      "port": 8083,
      "isAlive": true,
      "lastHeartbeat": 1703123456789
    }
  ],
  "partitions": [
    {
      "topic": "test-topic",
      "partition": 0,
      "leaderId": 1,
      "followerIds": [
        2,
        3
      ],
      "isrIds": [
        1,
        2,
        3
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 0,
      "leaderId": 2,
      "followerIds": [
        1,
        3
      ],
      "isrIds": [
        2,
        1
      ],
      "leaderEpoch": 1
    },
    {
      "topic": "orders",
      "partition": 1,
      "leaderId": 3,
      "followerIds": [
        1,
        2
      ],
      "isrIds": [
        3,
        2
      ],
      "leaderEpoch": 1
    }
  ],
  "timestamp": 1703123456789
}

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:16 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "success": true,
  "errorCode": "NONE",
  "errorMessage": null,
  "processedTimestamp": 1760731336696,
  "brokerId": 3
}

================================================================================

================================================================================
TEST: Produce with acks=0 (orders-0)
Timestamp: 2025-10-18T01:32:22.266679
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8082/api/v1/storage/messages
port: 8082
topic: orders
partition: 0
acks: 0
body:
{
  "topic": "orders",
  "partition": 0,
  "producerId": 10001,
  "producerEpoch": 1,
  "messages": [
    {
      "key": "order-acks0-key",
      "value": [
        79,
        114,
        100,
        101,
        114,
        32,
        119,
        105,
        116,
        104,
        32,
        97,
        99,
        107,
        115,
        61,
        48
      ],
      "timestamp": 1760731342258,
      "headers": {
        "test": "acks=0"
      }
    }
  ],
  "requiredAcks": 0,
  "timeoutMs": 30000
}

RESPONSE:
----------------------------------------
status_code: 200
response_time_ms: 8.38
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:22 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "topic": "orders",
  "partition": 0,
  "results": [
    {
      "offset": 14,
      "timestamp": 1760731342258,
      "errorCode": "NONE",
      "errorMessage": null
    }
  ],
  "throttleTimeMs": null,
  "errorMessage": null,
  "errorCode": "NONE",
  "success": true
}

================================================================================

================================================================================
TEST: Produce with acks=1 (orders-0)
Timestamp: 2025-10-18T01:32:23.294682
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8082/api/v1/storage/messages
port: 8082
topic: orders
partition: 0
acks: 1
body:
{
  "topic": "orders",
  "partition": 0,
  "producerId": 10002,
  "producerEpoch": 1,
  "messages": [
    {
      "key": "order-acks1-key",
      "value": [
        79,
        114,
        100,
        101,
        114,
        32,
        119,
        105,
        116,
        104,
        32,
        97,
        99,
        107,
        115,
        61,
        49
      ],
      "timestamp": 1760731343271,
      "headers": {
        "test": "acks=1"
      }
    }
  ],
  "requiredAcks": 1,
  "timeoutMs": 30000
}

RESPONSE:
----------------------------------------
status_code: 200
response_time_ms: 23.25
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:23 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "topic": "orders",
  "partition": 0,
  "results": [
    {
      "offset": 15,
      "timestamp": 1760731343271,
      "errorCode": "NONE",
      "errorMessage": null
    }
  ],
  "throttleTimeMs": null,
  "errorMessage": null,
  "errorCode": "NONE",
  "success": true
}

================================================================================

================================================================================
TEST: Produce with acks=-1 (orders-1)
Timestamp: 2025-10-18T01:32:24.347419
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8083/api/v1/storage/messages
port: 8083
topic: orders
partition: 1
acks: -1
body:
{
  "topic": "orders",
  "partition": 1,
  "producerId": 10003,
  "producerEpoch": 1,
  "messages": [
    {
      "key": "order-acks-all-key",
      "value": [
        79,
        114,
        100,
        101,
        114,
        32,
        119,
        105,
        116,
        104,
        32,
        97,
        99,
        107,
        115,
        61,
        45,
        49
      ],
      "timestamp": 1760731344312,
      "headers": {
        "test": "acks=-1"
      }
    }
  ],
  "requiredAcks": -1,
  "timeoutMs": 30000
}

RESPONSE:
----------------------------------------
status_code: 200
response_time_ms: 33.86
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:24 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "topic": "orders",
  "partition": 1,
  "results": [
    {
      "offset": 6,
      "timestamp": 1760731344312,
      "errorCode": "NONE",
      "errorMessage": null
    }
  ],
  "throttleTimeMs": null,
  "errorMessage": null,
  "errorCode": "NONE",
  "success": true
}

================================================================================

================================================================================
TEST: Get HWM for orders-0
Timestamp: 2025-10-18T01:32:24.356693
================================================================================

REQUEST:
----------------------------------------
method: GET
url: http://localhost:8082/api/v1/storage/partitions/orders/0/high-water-mark
port: 8082

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:24 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body: 16

================================================================================

================================================================================
TEST: Get HWM for orders-1
Timestamp: 2025-10-18T01:32:24.361602
================================================================================

REQUEST:
----------------------------------------
method: GET
url: http://localhost:8083/api/v1/storage/partitions/orders/1/high-water-mark
port: 8083

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:24 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body: 7

================================================================================

================================================================================
TEST: Batch Publish to orders-0
Timestamp: 2025-10-18T01:32:27.406598
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8082/api/v1/storage/messages
port: 8082
topic: orders
partition: 0
acks: 1
message_count: 3
body:
{
  "topic": "orders",
  "partition": 0,
  "producerId": "batch-orders-p0",
  "producerEpoch": 1,
  "messages": [
    {
      "key": "batch-order-001",
      "value": [
        66,
        97,
        116,
        99,
        104,
        32,
        79,
        114,
        100,
        101,
        114,
        32,
        48,
        48,
        49
      ],
      "timestamp": 1760731347389,
      "headers": {
        "batch": "orders-p0",
        "seq": 1
      }
    },
    {
      "key": "batch-order-002",
      "value": [
        66,
        97,
        116,
        99,
        104,
        32,
        79,
        114,
        100,
        101,
        114,
        32,
        48,
        48,
        50
      ],
      "timestamp": 1760731347390,
      "headers": {
        "batch": "orders-p0",
        "seq": 2
      }
    },
    {
      "key": "batch-order-003",
      "value": [
        66,
        97,
        116,
        99,
        104,
        32,
        79,
        114,
        100,
        101,
        114,
        32,
        48,
        48,
        51
      ],
      "timestamp": 1760731347391,
      "headers": {
        "batch": "orders-p0",
        "seq": 3
      }
    }
  ],
  "requiredAcks": 1,
  "timeoutMs": 30000
}

RESPONSE:
----------------------------------------
status_code: 200
response_time_ms: 16.78
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:27 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "topic": "orders",
  "partition": 0,
  "results": [
    {
      "offset": 16,
      "timestamp": 1760731347389,
      "errorCode": "NONE",
      "errorMessage": null
    },
    {
      "offset": 17,
      "timestamp": 1760731347390,
      "errorCode": "NONE",
      "errorMessage": null
    },
    {
      "offset": 18,
      "timestamp": 1760731347391,
      "errorCode": "NONE",
      "errorMessage": null
    }
  ],
  "throttleTimeMs": null,
  "errorMessage": null,
  "errorCode": "NONE",
  "success": true
}

================================================================================

================================================================================
TEST: Batch Publish to orders-1 (acks=-1)
Timestamp: 2025-10-18T01:32:28.448898
================================================================================

REQUEST:
----------------------------------------
method: POST
url: http://localhost:8083/api/v1/storage/messages
port: 8083
topic: orders
partition: 1
acks: -1
message_count: 2
body:
{
  "topic": "orders",
  "partition": 1,
  "producerId": "batch-orders-p1",
  "producerEpoch": 1,
  "messages": [
    {
      "key": "batch-order-101",
      "value": [
        66,
        97,
        116,
        99,
        104,
        32,
        79,
        114,
        100,
        101,
        114,
        32,
        49,
        48,
        49
      ],
      "timestamp": 1760731348408,
      "headers": {
        "batch": "orders-p1",
        "seq": 1
      }
    },
    {
      "key": "batch-order-102",
      "value": [
        66,
        97,
        116,
        99,
        104,
        32,
        79,
        114,
        100,
        101,
        114,
        32,
        49,
        48,
        50
      ],
      "timestamp": 1760731348409,
      "headers": {
        "batch": "orders-p1",
        "seq": 2
      }
    }
  ],
  "requiredAcks": -1,
  "timeoutMs": 30000
}

RESPONSE:
----------------------------------------
status_code: 200
response_time_ms: 39.95
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:28 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body:
{
  "topic": "orders",
  "partition": 1,
  "results": [
    {
      "offset": 7,
      "timestamp": 1760731348408,
      "errorCode": "NONE",
      "errorMessage": null
    },
    {
      "offset": 8,
      "timestamp": 1760731348409,
      "errorCode": "NONE",
      "errorMessage": null
    }
  ],
  "throttleTimeMs": null,
  "errorMessage": null,
  "errorCode": "NONE",
  "success": true
}

================================================================================

================================================================================
TEST: Get HWM for test-topic-0
Timestamp: 2025-10-18T01:32:35.596419
================================================================================

REQUEST:
----------------------------------------
method: GET
url: http://localhost:8081/api/v1/storage/partitions/test-topic/0/high-water-mark
port: 8081

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:35 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body: 12

================================================================================

================================================================================
TEST: Get HWM for orders-0 (consumer test)
Timestamp: 2025-10-18T01:32:40.259489
================================================================================

REQUEST:
----------------------------------------
method: GET
url: http://localhost:8082/api/v1/storage/partitions/orders/0/high-water-mark
port: 8082

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:40 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body: 19

================================================================================

================================================================================
TEST: Get HWM for orders-1 (consumer test)
Timestamp: 2025-10-18T01:32:40.271563
================================================================================

REQUEST:
----------------------------------------
method: GET
url: http://localhost:8083/api/v1/storage/partitions/orders/1/high-water-mark
port: 8083

RESPONSE:
----------------------------------------
status_code: 200
headers:
{
  "Content-Type": "application/json",
  "Transfer-Encoding": "chunked",
  "Date": "Fri, 17 Oct 2025 20:02:40 GMT",
  "Keep-Alive": "timeout=60",
  "Connection": "keep-alive"
}
body: 9

================================================================================
